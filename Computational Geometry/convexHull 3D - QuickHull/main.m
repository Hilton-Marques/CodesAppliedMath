clc;
clear;
close all;
points = makeRand(10);
points = [  1.18408418 -0.0969719812 7.04892397 ;...
-0.0244929865 0.00200588233 -0.145808220; ...
-6.30460978 3.36245871 -0.00000000 ;...
0.00894088112 -0.00536452932 0.00000000; ...
0.00485222461 0.00853991508 -0.00000000; ...
-2.95800519 -6.50761127 0.00000000 ;...
0.00794440974 -0.00136304367 0.145776242; ... 
-0.388971090 0.0667368099 -7.13743925; ...
-0.00645596860 0.0115772905 0.00000000; ...
0.0220821518 -0.0353978984 0.00000000; ...
0.0118269846 0.00846533384 -0.00000000; ...  
-0.0278145261 -0.0163750015 0.00000000  ];






%points = [0.105709426581721,0.142041121903998,0.166460440876421;0.620958643935308,0.573709764841198,0.0520778902858696;0.931201384608250,0.728661681678271,0.737841653797590;0.0634045006928182,0.860440563038232,0.934405118961213;0.984398312240972,0.858938816683866,0.785558989265031;0.513377418587575,0.177602460505865,0.398589496735843;0.133931250987971,0.0308895487449515,0.939141706069548;0.301306064586392,0.295533834475356,0.332936281836175;0.467068187028852,0.648198406466157,0.0252281814930363;0.842206612419335,0.559032544988695,0.854099949273443;0.347879194327261,0.446026648055103,0.0542394844411296;0.177107533789109,0.662808061960974,0.330828995203305;0.898486137834300,0.118155198446711,0.988417928784981;0.539982099037929,0.706917419322763,0.999491620097705;0.287849344815137,0.414522538893108,0.464839941625137;0.763957078491957,0.818204038907671,0.100221540195492;0.178116953886766,0.359634913482080,0.0567046890682912;0.521885673661279,0.335848974676925,0.175669029675661;0.208946673993135,0.905153559004464,0.675391177336247;0.468468199903997,0.912132474239623,0.104011574779379]
points = [0.534013751451731,0.479614252288398,0.793666083025936;0.0927137188642948,0.880799542861342,0.00387353551348724;0.511529092199426,0.678463634320796,0.565747646843948;0.478458646745197,0.320512844148039,0.601579798458235;0.913152742372502,0.682517816717110,0.946733471115376;0.0990890086376651,0.511028924158354,0.110128340182810;0.545261877330557,0.688785898972834,0.147416988338171;0.777561037608020,0.399051233106780,0.898299948178677;0.307043873925570,0.0610511462357189,0.219471144449904;0.0828329370324061,0.950395335131906,0.0163706608566853;0.114668433182841,0.0124099459694967,0.216227329276232;0.0114275288140810,0.642449265580090,0.516990939531608;0.245542144387298,0.193747340053374,0.0908705781480208;0.368441665384023,0.00779291063747434,0.602701319215813;0.478854744051061,0.308117688829788,0.744444447627629;0.839349277568775,0.262431920229879,0.514238061322073;0.446774127592600,0.341211145567738,0.839141805139886;0.982492501505978,0.626464501073332,0.181275170605329;0.123017016857453,0.579968709639968,0.328535803427897;0.268186372667860,0.550239103808507,0.180516896172902];
points =   [0.41224239320655204, -0.41224239320655204, 0.41224239320655204;...
0.0000000000000000, 0.0000000000000000, -0.71402932129748453;...
-0.20950142310834705, 0.0000000000000000, 0.0000000000000000;...
-0.20950142310834705, 0.0000000000000000, 0.0000000000000000;...
-0.0000000000000000, -0.11628586722677892, -0.000000000000000;...
0.0000000000000000, 0.71402932129748442, 0.0000000000000000;...
0.56962944338315846, 0.12415617092024518, 0.41224441762882230;...
0.0000000000000000, 0.0000000000000000, -0.71402932129748453;...
-0.38579085923445572, -0.60083548945017329, 0.000000000000000;...
-0.38579085923445572, -0.60083548945017329, 0.000000000000000;...
0.16099355601556956, -0.10337245951182744, -0.000000000000000;...
-0.17628952308624926, 0.11319385718662114, 0.0000000000000000];

points =   [0.0014925927899505993, -0.012928409815555887, 0.16048796040520469;...
-0.0018773588439288894, 0.012661615283558459, -0.16050518742890646;...
-0.0089301618073044150, 0.0058253256602758575, -0.0000000000000000;...
0.13485863105979093, -0.087971039314124186, 0.0000000000000000;...
0.087752942315033680, 0.13500065083502619, -0.0000000000000000;...
-0.0058298391413041280, -0.0089687264441163719, 0.0000000000000000;...
0.0014925927899505993, -0.012928409815555887, 0.16048796040520469;...
-0.0018773588439288894, 0.012661615283558459, -0.16050518742890646;...
-0.0089301618073044150, 0.0058253256602758575, -0.0000000000000000;...
0.13485863105979093, -0.087971039314124186, 0.0000000000000000;...
0.087752942315033680, 0.13500065083502619, -0.0000000000000000;...
-0.0058298391413041280, -0.0089687264441163719, 0.0000000000000000];

points =  [ 0.025282682332092 ,  -0.003366051300445 ,  0.184958817004112; ...
  -0.085777389922056  ,  0.011420113226256  , -0.627515876570807; ...
  -0.008960112951367  ,  0.014368329611403  ,                  0; ...
   0.012644281069991  , -0.020268900602934  ,                  0; ...
   0.018948702400738  ,  0.011148697134405  ,                  0; ...
  -0.015247699701353  , -0.008976644549286  ,                  0; ...
   0.021896954906533  ,  0.008091452294209  ,  0.214118435282371; ...
  -0.043897009090311  , -0.016221002254827  , -0.429245021134177; ...
  -0.014972227342625  ,  0.007985187883261  ,                  0; ...
   0.020887244711466  , -0.011139863800349  ,                  0; ...
   0.008743884425617  ,  0.015389236185529  ,                  0; ...
  -0.010865517623255  , -0.019123310515453  ,                  0];

points = [0.025786734178134200, -0.0025016528969012686, 0.21028024567107914 ; ...
-0.054636326573355841, 0.0053004433870566612, -0.44553684445053127;...
-0.0053074103869033993, 0.0085108996181815742, -0.0000000000000000;...
0.43796098758757057, -0.70205555266173403, 0.0000000000000000;...
-103303453.42737232, -60779830.264130376, 0.0000000000000000;...
-0.0084492371661710995, -0.0049742453155699681, 0.0000000000000000;...
0.0060374854161595916, 0.0069328678319418476, 0.19137867194550157;...
-0.017775511876843134, -0.020411688971938791, -0.56345541589823467;...
-0.60453465322374045, 0.32241848035807885, -0.0000000000000000;...
0.0088485748064186624, -0.0047192398768320099, 0.000000000000000;...
0.0061643473532125041, 0.010849251044150575, -0.0000000000000000 ;...
-0.022636218308747173, -0.039839743130926954, 0.0000000000000000];

k2 = showSolution(points);
n = size(points,1);
vertices(n) = Verts();
fig = figure;
hold on
gif = createGif(fig,'quickHull.gif');
gif.flag = true;
for i = 1:length(points)
    p = points(i,:);
    vertices(i) = Verts(i,p);
    plot3(p(1),p(2),p(3),'o','color','black');
end
gif.update(90);
convex = convexHull(vertices,gif);
keyboard
triangles = convex.getConvexHull();
for t = triangles
    t.show('r');
end
function points = makeRand(n)
points = zeros(n,3);
for i = 1:n
    points(i,:) = [rand,rand,rand];
end
end
function k2 = showSolution(points)
[k2,av2] = convhull(points(:,1),points(:,2),points(:,3));
figure
hold on
view(30,30)
trisurf(k2,points(:,1),points(:,2),points(:,3),'FaceColor','cyan');
hold off
end