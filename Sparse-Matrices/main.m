clc;
clear;
close all;

J = [[ 1     1     0     1     0     0     0];...
    [ 1     1     0     0     0     0     0];...
    [ 0     0     1     0     1     1     0];...
    [ 1     0     0     1     1     0     0];...
    [ 0     0     1     1     1     0     1];...
    [ 0     0     1     0     0     1     1];...
    [ 0     0     0     0     1     1     1]];


A = [[0, 1, 0, 0]; ...
     [0,0,1,0];...
     [0,0,0,1];...
     [0,0,0,0]];

M = [[1, 4, 2, 3];...
     [0, 1, 1, 0];...
     [0, 1, 1, 1];...
     [1, 0, 0, 1]];
T = M;
spy(T, 'x', 10)
[m,n] = size(J);
fac = 0.5;
axis([fac,n + fac, fac, m + fac]);
exportgraphics(gca,'sparse.png');

s = SparseMatrix(T);
for i = 1:3
    s.RemoveNode(i);
end
figure 
hold on
check = (inv(s.m_E)) * (inv(s.m_E))';
s.show(s.m_E)
%s.ShowMultiplication(s.m_E);